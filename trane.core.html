
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>trane.core package &#8212; trane  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="trane.ops package" href="trane.ops.html" />
    <link rel="prev" title="trane package" href="trane.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="trane-core-package">
<h1>trane.core package<a class="headerlink" href="#trane-core-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-trane.core.labeler">
<span id="trane-core-labeler-module"></span><h2>trane.core.labeler module<a class="headerlink" href="#module-trane.core.labeler" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="trane.core.labeler.Labeler">
<em class="property">class </em><code class="descclassname">trane.core.labeler.</code><code class="descname">Labeler</code><a class="reference internal" href="_modules/trane/core/labeler.html#Labeler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trane.core.labeler.Labeler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Object for executing prediction problems on data in order
to generate labels for many prediction problems.
The execute method performs the labelling operation.</p>
<dl class="method">
<dt id="trane.core.labeler.Labeler.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>entity_to_data_and_cutoff_dict</em>, <em>json_prediction_problems_filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trane/core/labeler.html#Labeler.execute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trane.core.labeler.Labeler.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the labels.</p>
<dl class="docutils">
<dt>entity_to_data_and_cutoff_dict: mapping from</dt>
<dd>unique entities to their related data and cutoff times</dd>
<dt>json_prediction_problems_filename: filename to read</dt>
<dd>prediction problems from, structured in JSON.</dd>
</dl>
<dl class="docutils">
<dt>dfs: a list of DataFrames. One dataframe for each problem.</dt>
<dd>Each dataframe contains entities, cutoff times and labels.</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-trane.core.prediction_problem">
<span id="trane-core-prediction-problem-module"></span><h2>trane.core.prediction_problem module<a class="headerlink" href="#module-trane.core.prediction_problem" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="trane.core.prediction_problem.PredictionProblem">
<em class="property">class </em><code class="descclassname">trane.core.prediction_problem.</code><code class="descname">PredictionProblem</code><span class="sig-paren">(</span><em>operations</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trane/core/prediction_problem.html#PredictionProblem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trane.core.prediction_problem.PredictionProblem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Prediction Problem is made up of a series of Operations. It also contains
information about the types expected as the input and output of
each operation.</p>
<dl class="method">
<dt id="trane.core.prediction_problem.PredictionProblem.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>dataframe</em>, <em>time_column</em>, <em>label_cutoff_time</em>, <em>filter_column_order_of_types</em>, <em>label_generating_column_order_of_types</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trane/core/prediction_problem.html#PredictionProblem.execute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trane.core.prediction_problem.PredictionProblem.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>This function executes all the operations on the dataframe
and returns the output. The output is two values. The
first value is the result of executing on all data before
the label_cutoff_time. The second value is the result
of executing on all data, including that after the
label_cutoff_time.</p>
<p>See paper:
“What would a data scientist ask? Automatically
formulating and solving predicton problems.”</p>
<p>dataframe: data to be executed on
time_column: column name of the column</p>
<blockquote>
<div>containing time information in the data</div></blockquote>
<dl class="docutils">
<dt>label_cutoff_time: the time at which the data</dt>
<dd>is segmented. data after the time is used for
labels during test. data before the time is used
for labels during training.</dd>
<dt>filter_column_order_of_types: a list containing the types expected in the</dt>
<dd>sequence of operations on the filter column</dd>
<dt>label_generating_column_order_of_types: a list containing the types expected</dt>
<dd>in the sequence of operations on the label generating column</dd>
</dl>
<p>pre_label_cutoff_time_execution_result: label for training time segment
all_data_execution_result: label for testing (all time) time segment</p>
</dd></dl>

<dl class="classmethod">
<dt id="trane.core.prediction_problem.PredictionProblem.from_json">
<em class="property">classmethod </em><code class="descname">from_json</code><span class="sig-paren">(</span><em>json_data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trane/core/prediction_problem.html#PredictionProblem.from_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trane.core.prediction_problem.PredictionProblem.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>This function converts a JSON snippet
to a prediction problem</p>
<p>json_data: JSON code containing the prediction problem.</p>
<p>problem: Prediction Problem</p>
</dd></dl>

<dl class="method">
<dt id="trane.core.prediction_problem.PredictionProblem.generate_and_set_hyper_parameters">
<code class="descname">generate_and_set_hyper_parameters</code><span class="sig-paren">(</span><em>dataframe</em>, <em>label_generating_column</em>, <em>filter_column</em>, <em>entity_id_column</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trane/core/prediction_problem.html#PredictionProblem.generate_and_set_hyper_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trane.core.prediction_problem.PredictionProblem.generate_and_set_hyper_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate then set hyper parameters for the operations in this prediction problem.</p>
<p>dataframe: data
label_generating_column: column name of the</p>
<blockquote>
<div>column of interest in the data</div></blockquote>
<dl class="docutils">
<dt>filter_column: column name of the column</dt>
<dd>to be filtered over</dd>
<dt>entity_id_column: column name of</dt>
<dd>the column containing entities in the data</dd>
</dl>
<p>hyper_parameters: list of hyper parameter settings</p>
</dd></dl>

<dl class="method">
<dt id="trane.core.prediction_problem.PredictionProblem.is_valid_prediction_problem">
<code class="descname">is_valid_prediction_problem</code><span class="sig-paren">(</span><em>table_meta</em>, <em>filter_column</em>, <em>label_generating_column</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trane/core/prediction_problem.html#PredictionProblem.is_valid_prediction_problem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trane.core.prediction_problem.PredictionProblem.is_valid_prediction_problem" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that a prediction problem is valid. Ensures the input output
types of operations match.</p>
<dl class="docutils">
<dt>table_meta: TableMeta object. Contains</dt>
<dd>meta information about the data</dd>
<dt>filter_column: column name of the column</dt>
<dd>to be filtered over</dd>
<dt>label_generating_column: column name of the</dt>
<dd>column of interest in the data</dd>
</dl>
<p>is_valid: True/False if problem is valid
filter_column_order_of_types: a list containing the types expected in the</p>
<blockquote>
<div>sequence of operations on the filter column</div></blockquote>
<dl class="docutils">
<dt>label_generating_column_order_of_types: a list containing the types expected</dt>
<dd>in the sequence of operations on the label generating column</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="trane.core.prediction_problem.PredictionProblem.set_hyper_parameters">
<code class="descname">set_hyper_parameters</code><span class="sig-paren">(</span><em>hyper_parameters</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trane/core/prediction_problem.html#PredictionProblem.set_hyper_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trane.core.prediction_problem.PredictionProblem.set_hyper_parameters" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>hyper_parameters: hyper parameter settings</dt>
<dd>to be set on the operations</dd>
</dl>
<p>None</p>
</dd></dl>

<dl class="method">
<dt id="trane.core.prediction_problem.PredictionProblem.to_json">
<code class="descname">to_json</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/trane/core/prediction_problem.html#PredictionProblem.to_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trane.core.prediction_problem.PredictionProblem.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>This function converts Prediction Problems to JSON</p>
<p>None</p>
<p>json: JSON representation of the Prediction Problem.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-trane.core.prediction_problem_generator">
<span id="trane-core-prediction-problem-generator-module"></span><h2>trane.core.prediction_problem_generator module<a class="headerlink" href="#module-trane.core.prediction_problem_generator" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="trane.core.prediction_problem_generator.PredictionProblemGenerator">
<em class="property">class </em><code class="descclassname">trane.core.prediction_problem_generator.</code><code class="descname">PredictionProblemGenerator</code><span class="sig-paren">(</span><em>table_meta</em>, <em>entity_id_column</em>, <em>label_generating_column</em>, <em>time_column</em>, <em>filter_column</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trane/core/prediction_problem_generator.html#PredictionProblemGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trane.core.prediction_problem_generator.PredictionProblemGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Object for generating prediction problems on data.</p>
<dl class="method">
<dt id="trane.core.prediction_problem_generator.PredictionProblemGenerator.ensure_valid_inputs">
<code class="descname">ensure_valid_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/trane/core/prediction_problem_generator.html#PredictionProblemGenerator.ensure_valid_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trane.core.prediction_problem_generator.PredictionProblemGenerator.ensure_valid_inputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="trane.core.prediction_problem_generator.PredictionProblemGenerator.generate">
<code class="descname">generate</code><span class="sig-paren">(</span><em>dataframe</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trane/core/prediction_problem_generator.html#PredictionProblemGenerator.generate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trane.core.prediction_problem_generator.PredictionProblemGenerator.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the prediction problems. The prediction problems operations
hyper parameters are also set.</p>
<p>dataframe: the data to be parsed</p>
<p>problems: a list of Prediction Problem objects.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-trane.core.prediction_problem_saver">
<span id="trane-core-prediction-problem-saver-module"></span><h2>trane.core.prediction_problem_saver module<a class="headerlink" href="#module-trane.core.prediction_problem_saver" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="trane.core.prediction_problem_saver.prediction_problems_to_json_file">
<code class="descclassname">trane.core.prediction_problem_saver.</code><code class="descname">prediction_problems_to_json_file</code><span class="sig-paren">(</span><em>prediction_problems</em>, <em>table_meta</em>, <em>entity_id_column</em>, <em>label_generating_column</em>, <em>time_column</em>, <em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trane/core/prediction_problem_saver.html#prediction_problems_to_json_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trane.core.prediction_problem_saver.prediction_problems_to_json_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a list of prediction problems to a JSON file</p>
<p>prediction_problems: a list of Prediction Problems.
table_meta: TableMeta object. Contains</p>
<blockquote>
<div>meta information about the data</div></blockquote>
<dl class="docutils">
<dt>entity_id_column: column name of</dt>
<dd>the column containing entities in the data</dd>
<dt>label_generating_column: column name of the</dt>
<dd>column of interest in the data</dd>
<dt>time_column: column name of the column</dt>
<dd>containing time information in the data</dd>
</dl>
<p>filename: name of the file to write to. must end in .json</p>
<p>None</p>
</dd></dl>

<dl class="function">
<dt id="trane.core.prediction_problem_saver.prediction_problems_from_json_file">
<code class="descclassname">trane.core.prediction_problem_saver.</code><code class="descname">prediction_problems_from_json_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trane/core/prediction_problem_saver.html#prediction_problems_from_json_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trane.core.prediction_problem_saver.prediction_problems_from_json_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read Prediction Problems from a JSON structured file</p>
<p>filename: filename to read problems from.</p>
<p>prediction_problems: a list of Prediction Problems.
table_meta: TableMeta object. Contains</p>
<blockquote>
<div>meta information about the data</div></blockquote>
<dl class="docutils">
<dt>entity_id_column: column name of</dt>
<dd>the column containing entities in the data</dd>
<dt>label_generating_column: column name of the</dt>
<dd>column of interest in the data</dd>
<dt>time_column: column name of the column</dt>
<dd>containing time information in the data</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-trane.core">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-trane.core" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="trane.html">trane package</a><ul>
      <li>Previous: <a href="trane.html" title="previous chapter">trane package</a></li>
      <li>Next: <a href="trane.ops.html" title="next chapter">trane.ops package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Author.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/trane.core.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>